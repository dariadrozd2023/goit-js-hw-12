import{i as c,S as y,a as S}from"./assets/vendor-f144e563.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();const a={formSearch:document.getElementById("formSearch"),inputSearch:document.getElementById("inputSearch"),btnSearch:document.getElementById("btnSearch"),galleryList:document.querySelector(".js-ImagesCart"),loader:document.querySelector(".loader")};function b(){const e=a.inputSearch.value.trim(),o=a.inputSearch.placeholder;return e===""||e===o?(c.show({message:"Please, enter the name of the picture you are looking for",timeout:5e3,backgroundColor:"#a0cdde"}),a.btnSearch.disabled=!0,!1):(a.btnSearch.disabled=!1,!0)}a.inputSearch.addEventListener("focus",()=>{a.inputSearch.placeholder=""});a.inputSearch.addEventListener("blur",()=>{a.inputSearch.value.trim()===""&&(a.inputSearch.placeholder="Search images...")});const r={formSearch:document.getElementById("formSearch"),inputSearch:document.getElementById("inputSearch"),btnSearch:document.getElementById("btnSearch"),galleryList:document.querySelector(".js-ImagesCart"),loader:document.querySelector(".loader"),btnLoadMore:document.getElementById("btnLoadMore")};r.formSearch.addEventListener("submit",g);r.btnLoadMore.addEventListener("click",j);const L=new y(".js-ImagesCart a",{captionsData:"alt",captionDelay:250}),E="https://pixabay.com/api/",I="43910002-4f8293575df59775d1c0606c1";let i=1,h="";function w(){return r.inputSearch.value.trim()===""?(c.show({message:"Please, enter a search query!",timeout:5e3,backgroundColor:"#EF4040"}),!1):!0}function g(e){e.preventDefault(),w()&&(h=r.inputSearch.value.trim(),r.galleryList.innerHTML="",r.loader.style.display="block",i=1,f())}async function f(){try{const o=(await S.get(E,{params:{key:I,q:h,image_type:"photo",orientation:"horizontal",safesearch:"true",lang:"en",page:i,per_page:15}})).data;return o.hits.length===0?(c.show({message:"Sorry, there are no images matching your search query. Please, try again!",timeout:5e3,backgroundColor:"#EF4040"}),r.btnLoadMore.style.display="none"):(i===1?r.galleryList.innerHTML=d(o.hits):(r.galleryList.insertAdjacentHTML("beforeend",d(o.hits)),v()),L.refresh(),i*15>=o.totalHits?r.btnLoadMore.style.display="none":r.btnLoadMore.style.display="block"),o.hits}catch(e){console.error(e),c.show({message:"Something went wrong. Please, try again later.",timeout:5e3,backgroundColor:"#EF4040"})}finally{r.loader.style.display="none",r.formSearch.reset()}}function d(e){return e.map(({webformatURL:o,largeImageURL:u,tags:l,likes:t,views:n,comments:s,downloads:p})=>`
          <li class="js-list">
              <a href="${u}"><img class="js-image" src="${o}" alt="${l}" /></a>
              <ul class="js-dates">
                  <li class="js-likes">Likes: ${t}</li>
                  <li class="js-views">Views: ${n}</li>
                  <li class="js-comments">Comments: ${s}</li>
                  <li class="js-downloads">Downloads: ${p}</li>
              </ul>
          </li>
      `).join("")}function v(){const{height:e}=document.querySelector(".js-list").getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}async function j(){i+=1;try{const e=await f();r.galleryList.insertAdjacentHTML("beforeend",d(e))}catch(e){console.error(e.message),c.show({message:"Something went wrong. Please, try again later.",timeout:5e3,backgroundColor:"#EF4040"})}}const m={formSearch:document.getElementById("formSearch"),inputSearch:document.getElementById("inputSearch"),btnSearch:document.getElementById("btnSearch"),galleryList:document.querySelector(".js-ImagesCart"),loader:document.querySelector(".loader")};m.formSearch.addEventListener("submit",void 0);m.inputSearch.addEventListener("input",b);m.btnSearch.addEventListener("click",g);
//# sourceMappingURL=commonHelpers.js.map
