{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst refs = {\n    formSearch: document.getElementById('formSearch'),\n    inputSearch: document.getElementById('inputSearch'),\n    btnSearch: document.getElementById('btnSearch'),\n    galleryList: document.querySelector('.js-ImagesCart'),\n    loader: document.querySelector('.loader'),\n\n  };\n\n  \n  export function checkInput() {\n    const inputValue = refs.inputSearch.value.trim();\n    const placeholderValue = refs.inputSearch.placeholder;\n  \n    if (inputValue === '' || inputValue === placeholderValue) {\n      iziToast.show({\n        message: 'Please, enter the name of the picture you are looking for',\n        timeout: 5000,\n        backgroundColor: '#a0cdde',\n      });\n  \n      refs.btnSearch.disabled = true; // робимо кнопку неактивною\n      return false;\n    } else {\n      refs.btnSearch.disabled = false; // робимо кнопку активною у разі успіху\n      return true;\n    }\n  }\n  // Додаємо обробники подій до інпуту для очищення та відновлення placeholder\nrefs.inputSearch.addEventListener('focus', () => {\n  refs.inputSearch.placeholder = ''; // Очищаємо placeholder при фокусі\n});\n\nrefs.inputSearch.addEventListener('blur', () => {\n  if (refs.inputSearch.value.trim() === '') {\n    refs.inputSearch.placeholder = 'Search images...'; // Відновлюємо placeholder при втраті фокуса, якщо інпут порожній\n  }\n});\n ","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport * as Pixibay from '/js/pixabay-api';\nimport axios from 'axios';\n\nconst refs = {\n  formSearch: document.getElementById('formSearch'),\n  inputSearch: document.getElementById('inputSearch'),\n  btnSearch: document.getElementById('btnSearch'),\n  galleryList: document.querySelector('.js-ImagesCart'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formSearch.addEventListener('submit', onBtnSearch);\n\nconst lightbox = new SimpleLightbox('.js-ImagesCart a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function onBtnSearch(event) {\n  event.preventDefault();\n\n  if (!Pixibay.checkInput()) {\n    return;\n  }\n  refs.galleryList.innerHTML = '';\n\n  const URL_SEARCH_IMAGES = 'https://pixabay.com/api/';\n  const API_KEY = '43910002-4f8293575df59775d1c0606c1';\n  const inputValue = refs.inputSearch.value.trim();\n\n  axios(URL_SEARCH_IMAGES, {\n    params: {\n      key: API_KEY,\n      q: inputValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      lang: 'en',\n    },\n  });\n  refs.loader.style.display = 'block';\n\n  async function fetchGet() {\n    try {\n      \n      const data = await axios.get(`${URL_SEARCH_IMAGES}`/{ id });\n    \n    console.log(data);\n      \n      // if (data.hits.length === 0) {\n      //   // Відображаємо повідомлення, якщо немає результатів\n      //   iziToast.show({\n      //     message: 'Sorry, there are no images matching your search query. Please, try again!',\n      //     timeout: 5000,\n      //     backgroundColor: '#EF4040',\n      //   });\n      //   return;\n      // }\n    } catch (error) {\n      // iziToast.show({\n      //         message: 'Something went wrong. Please, try again later.',\n      //         timeout: 5000,\n      //         backgroundColor: '#EF4040',\n      //       });\n    }\n    finally{\n      refs.loader.style.display = 'none';\n      refs.formSearch.reset();\n    };\n  }\n\n  fetchGet();\n\n  // fetch(`${URL_SEARCH_IMAGES}?${params}`)\n  //   .then(res => {\n  //     if (!res.ok) {\n  //       throw new Error(res.statusText);\n  //     }\n  //     return res.json();\n  //   })\n  //   .then(data => {\n  //     if (data.hits.length === 0) {\n  //       iziToast.show({\n  //         message:\n  //           'Sorry, there are no images matching your search query. Please, try again!',\n  //         timeout: 5000,\n  //         backgroundColor: '#EF4040',\n  //       });\n  //       return;\n  //     }\n  //     refs.galleryList.innerHTML = markUpSearchImg(data.hits);\n  //     lightbox.refresh();\n  //   })\n  //   .catch(error => {\n  //     console.log(error);\n  //     iziToast.show({\n  //       message: 'Something went wrong. Please, try again later.',\n  //       timeout: 5000,\n  //       backgroundColor: '#EF4040',\n  //     });\n  //   })\n  //   .finally(() => {\n  //     refs.loader.style.display = 'none';\n  //     refs.formSearch.reset();\n  //   });\n}\n\n// function markUpSearchImg(arr) {\n//   return arr\n//     .map(\n//       ({\n//         webformatURL,\n//         largeImageURL,\n//         tags,\n//         likes,\n//         views,\n//         comments,\n//         downloads,\n//       }) =>\n//         `\n//           <li class=\"js-list\">\n//               <a href=\"${largeImageURL}\"><img class=\"js-image\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n//               <ul class=\"js-dates\">\n//                   <li class=\"js-likes\">Likes: ${likes}</li>\n//                   <li class=\"js-views\">Views: ${views}</li>\n//                   <li class=\"js-comments\">Comments: ${comments}</li>\n//                   <li class=\"js-downloads\">Downloads: ${downloads}</li>\n//               </ul>\n//           </li>\n//       `\n//     )\n//     .join('');\n// }\n","import * as Render from './js/render-functions';\nimport * as Pixibay from './js/pixabay-api';\n\nconst refs = {\n  formSearch: document.getElementById('formSearch'),\n  inputSearch: document.getElementById('inputSearch'),\n  btnSearch: document.getElementById('btnSearch'),\n  galleryList: document.querySelector('.js-ImagesCart'),\n  loader: document.querySelector('.loader'),\n\n};\n\nrefs.formSearch.addEventListener('submit', Pixibay.submitSearch);\nrefs.inputSearch.addEventListener('input', Pixibay.checkInput);\nrefs.btnSearch.addEventListener('click', Render.onBtnSearch);\n"],"names":["refs","checkInput","inputValue","placeholderValue","iziToast","onBtnSearch","SimpleLightbox","event","Pixibay.checkInput","URL_SEARCH_IMAGES","API_KEY","axios","fetchGet","data","Pixibay.submitSearch","Render.onBtnSearch"],"mappings":"owBAIA,MAAMA,EAAO,CACT,WAAY,SAAS,eAAe,YAAY,EAChD,YAAa,SAAS,eAAe,aAAa,EAClD,UAAW,SAAS,eAAe,WAAW,EAC9C,YAAa,SAAS,cAAc,gBAAgB,EACpD,OAAQ,SAAS,cAAc,SAAS,CAE5C,EAGS,SAASC,GAAa,CAC3B,MAAMC,EAAaF,EAAK,YAAY,MAAM,KAAI,EACxCG,EAAmBH,EAAK,YAAY,YAE1C,OAAIE,IAAe,IAAMA,IAAeC,GACtCC,EAAS,KAAK,CACZ,QAAS,4DACT,QAAS,IACT,gBAAiB,SACzB,CAAO,EAEDJ,EAAK,UAAU,SAAW,GACnB,KAEPA,EAAK,UAAU,SAAW,GACnB,GAEV,CAEHA,EAAK,YAAY,iBAAiB,QAAS,IAAM,CAC/CA,EAAK,YAAY,YAAc,EACjC,CAAC,EAEDA,EAAK,YAAY,iBAAiB,OAAQ,IAAM,CAC1CA,EAAK,YAAY,MAAM,KAAI,IAAO,KACpCA,EAAK,YAAY,YAAc,mBAEnC,CAAC,EClCD,MAAMA,EAAO,CACX,WAAY,SAAS,eAAe,YAAY,EAChD,YAAa,SAAS,eAAe,aAAa,EAClD,UAAW,SAAS,eAAe,WAAW,EAC9C,YAAa,SAAS,cAAc,gBAAgB,EACpD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,WAAW,iBAAiB,SAAUK,CAAW,EAErC,IAAIC,EAAe,mBAAoB,CACtD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASD,EAAYE,EAAO,CAGjC,GAFAA,EAAM,eAAc,EAEhB,CAACC,EAAkB,EACrB,OAEFR,EAAK,YAAY,UAAY,GAE7B,MAAMS,EAAoB,2BACpBC,EAAU,qCACVR,EAAaF,EAAK,YAAY,MAAM,KAAI,EAE9CW,EAAMF,EAAmB,CACvB,OAAQ,CACN,IAAKC,EACL,EAAGR,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,IACP,CACL,CAAG,EACDF,EAAK,OAAO,MAAM,QAAU,QAE5B,eAAeY,GAAW,CACxB,GAAI,CAEF,MAAMC,EAAO,MAAMF,EAAM,IAAI,GAAGF,CAAiB,GAAG,CAAE,EAAE,CAAE,EAE5D,QAAQ,IAAII,CAAI,CAWf,MAAe,CAMf,QACM,CACLb,EAAK,OAAO,MAAM,QAAU,OAC5BA,EAAK,WAAW,OACtB,CACG,CAEDY,GAkCF,CC1GA,MAAMZ,EAAO,CACX,WAAY,SAAS,eAAe,YAAY,EAChD,YAAa,SAAS,eAAe,aAAa,EAClD,UAAW,SAAS,eAAe,WAAW,EAC9C,YAAa,SAAS,cAAc,gBAAgB,EACpD,OAAQ,SAAS,cAAc,SAAS,CAE1C,EAEAA,EAAK,WAAW,iBAAiB,SAAUc,MAAoB,EAC/Dd,EAAK,YAAY,iBAAiB,QAASQ,CAAkB,EAC7DR,EAAK,UAAU,iBAAiB,QAASe,CAAkB"}